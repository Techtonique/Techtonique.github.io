<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Conformalized Forecasting using Machine Leaning models -- with stacked generalization • ahead</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Conformalized Forecasting using Machine Leaning models -- with stacked generalization">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ahead</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.26.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ahead-loess-forecasting.html">Prediction intervals for Loess forecasting (simulation-based)</a>
    </li>
    <li>
      <a href="../articles/ahead-neutralize.html">Risk-neutralize simulations</a>
    </li>
    <li>
      <a href="../articles/ahead-plotting-functions.html">Plotting functions</a>
    </li>
    <li>
      <a href="../articles/ahead-ridge2-conformal.html">Conformal Prediction using Ridge2</a>
    </li>
    <li>
      <a href="../articles/ahead-ridge2-prediction-intervals.html">Prediction intervals for multivariate time series (simulation-based)</a>
    </li>
    <li>
      <a href="../articles/ahead-univariate-season.html">Univariate forecasting with `ridge2f` in `ahead`</a>
    </li>
    <li>
      <a href="../articles/ahead-vignette.html">Introduction to R package `ahead`</a>
    </li>
    <li>
      <a href="../articles/anymodelplusgarch.html">Any model + GARCH(1, 1)</a>
    </li>
    <li>
      <a href="../articles/caretfitpredict.html">Fit and forecast using caret+dynrmf</a>
    </li>
    <li>
      <a href="../articles/comb_OLS.html">comb OLS Electricity</a>
    </li>
    <li>
      <a href="../articles/comb_OLS2.html">comb OLS AirPassengers</a>
    </li>
    <li>
      <a href="../articles/conformal-ml-stacking.html">Conformalized Forecasting using Machine Leaning models -- with stacked generalization</a>
    </li>
    <li>
      <a href="../articles/conformal-ml-stacking2.html">Conformalized Forecasting using Machine Leaning models -- with stacked generalization</a>
    </li>
    <li>
      <a href="../articles/conformal-ml.html">Conformalized Forecasting using Machine Leaning models</a>
    </li>
    <li>
      <a href="../articles/conformal-ml2.html">Conformalized Forecasting using Machine Leaning models 2</a>
    </li>
    <li>
      <a href="../articles/fitforecastbench.html">Fit and forecast for benchmarking purposes</a>
    </li>
    <li>
      <a href="../articles/generic-conformal.html">Generic forecasting and conformal prediction</a>
    </li>
    <li>
      <a href="../articles/glmthetaf-attention-conformal.html">Generalized Linear Model Theta Forecast with attention - conformal uncertainty</a>
    </li>
    <li>
      <a href="../articles/glmthetaf-attention.html">Generalized Linear Model Theta Forecast with attention</a>
    </li>
    <li>
      <a href="../articles/glmthetaf-ridge-attention.html">Ridge Theta Forecast with attention - conformal uncertainty</a>
    </li>
    <li>
      <a href="../articles/glmthetaf.html">Generalized Linear Model Theta Forecast</a>
    </li>
    <li>
      <a href="../articles/mlarch.html">Beyond GARCH</a>
    </li>
    <li>
      <a href="../articles/mlarch2.html">Beyond GARCH 2</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Conformalized Forecasting using Machine Leaning
models – with stacked generalization</h1>
            
      

      <div class="hidden name"><code>conformal-ml-stacking2.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="with-lasso-and-ridge">With Lasso and Ridge<a class="anchor" aria-label="anchor" href="#with-lasso-and-ridge"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fit_func_ridge</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span> <span class="fu">glmnet</span><span class="fu">::</span><span class="fu"><a href="https://glmnet.stanford.edu/reference/cv.glmnet.html" class="external-link">cv.glmnet</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, alpha<span class="op">=</span><span class="fl">0</span><span class="op">)</span> <span class="co"># ridge</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">fit_func_lasso</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span></span>
<span><span class="op">{</span></span>
<span> <span class="fu">glmnet</span><span class="fu">::</span><span class="fu"><a href="https://glmnet.stanford.edu/reference/cv.glmnet.html" class="external-link">cv.glmnet</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span>, alpha<span class="op">=</span><span class="fl">1</span><span class="op">)</span> <span class="co"># lasso </span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">stacking_models</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">stacking_models</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fit_func<span class="op">=</span><span class="va">fit_func_ridge</span>, predict_func<span class="op">=</span><span class="va">predict</span><span class="op">)</span></span>
<span><span class="va">stacking_models</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>fit_func<span class="op">=</span><span class="va">fit_func_lasso</span>, predict_func<span class="op">=</span><span class="va">predict</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">stacking_models</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ridge"</span>, <span class="st">"lasso"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res1</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">AirPassengers</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">FALSE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">##   method            from</span></span>
<span><span class="co">##   as.zoo.data.frame zoo</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95    Hi 95</span></span>
<span><span class="co">## Jan 1961       441.3340 395.3752 499.0496</span></span>
<span><span class="co">## Feb 1961       424.6638 343.3237 524.7348</span></span>
<span><span class="co">## Mar 1961       426.8820 376.6424 504.3861</span></span>
<span><span class="co">## Apr 1961       468.6145 408.0317 528.0099</span></span>
<span><span class="co">## May 1961       535.4421 443.6408 709.4886</span></span>
<span><span class="co">## Jun 1961       574.9186 504.0377 719.7443</span></span>
<span><span class="co">## Jul 1961       655.9370 604.7934 717.3988</span></span>
<span><span class="co">## Aug 1961       639.3814 579.1002 685.9781</span></span>
<span><span class="co">## Sep 1961       514.1038 475.8198 615.3769</span></span>
<span><span class="co">## Oct 1961       495.6221 417.5763 578.3341</span></span>
<span><span class="co">## Nov 1961       437.7525 362.7818 587.6955</span></span>
<span><span class="co">## Dec 1961       455.5140 387.8163 542.7153</span></span>
<span><span class="co">## Jan 1962       499.0358 401.8669 567.3251</span></span>
<span><span class="co">## Feb 1962       463.7180 397.9928 542.2527</span></span>
<span><span class="co">## Mar 1962       497.2568 429.9759 578.2685</span></span>
<span><span class="co">## Apr 1962       513.2464 434.2234 581.0603</span></span>
<span><span class="co">## May 1962       565.5730 501.6239 670.4829</span></span>
<span><span class="co">## Jun 1962       657.1581 551.8738 847.8404</span></span>
<span><span class="co">## Jul 1962       704.3373 606.6956 894.5974</span></span>
<span><span class="co">## Aug 1962       688.3966 596.6527 880.6887</span></span>
<span><span class="co">## Sep 1962       611.6104 570.4301 699.3725</span></span>
<span><span class="co">## Oct 1962       582.1375 475.4416 748.3993</span></span>
<span><span class="co">## Nov 1962       508.4588 445.0790 559.1812</span></span>
<span><span class="co">## Dec 1962       489.4722 426.5378 632.7982</span></span>
<span><span class="co">## Jan 1963       533.9907 458.5203 653.3869</span></span></code></pre>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res2</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">AirPassengers</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">TRUE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95    Hi 95</span></span>
<span><span class="co">## Jan 1961       442.4967 396.5378 502.2355</span></span>
<span><span class="co">## Feb 1961       422.0342 340.6941 519.9651</span></span>
<span><span class="co">## Mar 1961       415.7970 365.5574 483.1084</span></span>
<span><span class="co">## Apr 1961       445.4330 384.8502 484.3934</span></span>
<span><span class="co">## May 1961       499.4043 407.6029 641.4283</span></span>
<span><span class="co">## Jun 1961       526.0078 455.1268 628.2605</span></span>
<span><span class="co">## Jul 1961       597.7149 546.5713 611.3792</span></span>
<span><span class="co">## Aug 1961       579.8770 519.5958 578.8149</span></span>
<span><span class="co">## Sep 1961       462.5991 424.3151 520.9792</span></span>
<span><span class="co">## Oct 1961       456.5698 378.5241 505.3191</span></span>
<span><span class="co">## Nov 1961       410.3150 335.3443 534.4739</span></span>
<span><span class="co">## Dec 1961       434.5217 366.8241 502.1364</span></span>
<span><span class="co">## Jan 1962       478.6214 381.4525 530.0119</span></span>
<span><span class="co">## Feb 1962       437.6463 371.9211 493.0956</span></span>
<span><span class="co">## Mar 1962       458.1397 390.8588 503.7298</span></span>
<span><span class="co">## Apr 1962       455.8781 376.8552 473.4507</span></span>
<span><span class="co">## May 1962       488.8837 424.9346 526.7456</span></span>
<span><span class="co">## Jun 1962       561.4367 456.1525 670.4290</span></span>
<span><span class="co">## Jul 1962       595.1999 497.5583 698.0764</span></span>
<span><span class="co">## Aug 1962       578.2270 486.4831 685.1378</span></span>
<span><span class="co">## Sep 1962       515.6943 474.5139 526.5854</span></span>
<span><span class="co">## Oct 1962       507.4114 400.7155 611.2266</span></span>
<span><span class="co">## Nov 1962       453.8056 390.4258 455.4875</span></span>
<span><span class="co">## Dec 1962       445.7447 382.8104 550.1266</span></span>
<span><span class="co">## Jan 1963       490.6881 415.2177 574.6573</span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res3</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">USAccDeaths</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">FALSE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |===================================                                   |  50%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95     Hi 95</span></span>
<span><span class="co">## Jan 1979       8783.978 6774.983 10730.200</span></span>
<span><span class="co">## Feb 1979       7686.613 6272.102 10586.531</span></span>
<span><span class="co">## Mar 1979       8227.840 6680.574 10594.798</span></span>
<span><span class="co">## Apr 1979       8593.016 6934.495 10611.109</span></span>
<span><span class="co">## May 1979       8613.580 7463.120  9580.210</span></span>
<span><span class="co">## Jun 1979       9204.017 7657.293 10181.523</span></span>
<span><span class="co">## Jul 1979       9704.404 7935.751 10789.198</span></span>
<span><span class="co">## Aug 1979       9469.413 7892.728 10791.384</span></span>
<span><span class="co">## Sep 1979       9606.398 8313.995 10787.510</span></span>
<span><span class="co">## Oct 1979       9109.509 7544.000 10184.456</span></span>
<span><span class="co">## Nov 1979       8578.374 8048.086  9437.659</span></span>
<span><span class="co">## Dec 1979       9179.610 8248.404  9968.920</span></span>
<span><span class="co">## Jan 1980       8485.089 7046.743 10156.747</span></span>
<span><span class="co">## Feb 1980       8163.319 7130.421  9957.499</span></span>
<span><span class="co">## Mar 1980       8406.790 7463.555  9958.841</span></span>
<span><span class="co">## Apr 1980       8489.861 7786.066  9377.161</span></span>
<span><span class="co">## May 1980       9122.218 7475.319  9255.435</span></span>
<span><span class="co">## Jun 1980       9025.400 7677.447  9282.899</span></span>
<span><span class="co">## Jul 1980       9849.807 8692.713 10761.973</span></span>
<span><span class="co">## Aug 1980       9295.242 8615.584 10626.719</span></span>
<span><span class="co">## Sep 1980       8998.066 7614.688 10168.428</span></span>
<span><span class="co">## Oct 1980       9141.270 8358.365 10763.456</span></span>
<span><span class="co">## Nov 1980       8899.094 7985.921 10763.084</span></span>
<span><span class="co">## Dec 1980       9023.866 8294.751 10627.499</span></span>
<span><span class="co">## Jan 1981       8450.765 7141.203 10167.192</span></span></code></pre>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res4</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">USAccDeaths</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">TRUE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |===================================                                   |  50%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95     Hi 95</span></span>
<span><span class="co">## Jan 1979       8859.537 6850.542 10709.683</span></span>
<span><span class="co">## Feb 1979       7939.171 6524.660 10560.813</span></span>
<span><span class="co">## Mar 1979       8380.617 6833.351 10572.648</span></span>
<span><span class="co">## Apr 1979       8639.598 6981.076 10596.743</span></span>
<span><span class="co">## May 1979       8605.403 7454.943  9575.829</span></span>
<span><span class="co">## Jun 1979       9117.904 7571.181 10182.514</span></span>
<span><span class="co">## Jul 1979       9555.868 7787.215 10796.567</span></span>
<span><span class="co">## Aug 1979       9291.975 7715.290 10799.572</span></span>
<span><span class="co">## Sep 1979       9446.910 8154.508 10793.589</span></span>
<span><span class="co">## Oct 1979       9016.212 7450.704 10187.108</span></span>
<span><span class="co">## Nov 1979       8541.782 8011.495  9434.164</span></span>
<span><span class="co">## Dec 1979       9157.976 8226.770  9962.792</span></span>
<span><span class="co">## Jan 1980       8607.131 7168.784 10145.879</span></span>
<span><span class="co">## Feb 1980       8568.541 7535.642  9944.940</span></span>
<span><span class="co">## Mar 1980       8683.679 7740.445  9946.664</span></span>
<span><span class="co">## Apr 1980       8595.741 7891.946  9367.363</span></span>
<span><span class="co">## May 1980       9111.881 7464.983  9248.263</span></span>
<span><span class="co">## Jun 1980       8886.434 7538.481  9276.086</span></span>
<span><span class="co">## Jul 1980       9620.441 8463.347 10756.312</span></span>
<span><span class="co">## Aug 1980       8994.224 8314.566 10621.144</span></span>
<span><span class="co">## Sep 1980       8703.698 7320.320 10163.801</span></span>
<span><span class="co">## Oct 1980       8958.773 8175.868 10758.590</span></span>
<span><span class="co">## Nov 1980       8822.299 7909.126 10757.777</span></span>
<span><span class="co">## Dec 1980       8982.217 8253.102 10621.768</span></span>
<span><span class="co">## Jan 1981       8590.411 7280.849 10161.094</span></span></code></pre>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res5</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">fdeaths</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">FALSE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |===================================                                   |  50%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95    Hi 95</span></span>
<span><span class="co">## Jan 1980       620.3061 528.8686 817.9147</span></span>
<span><span class="co">## Feb 1980       739.2103 539.4342 863.8038</span></span>
<span><span class="co">## Mar 1980       651.2167 497.0214 843.2452</span></span>
<span><span class="co">## Apr 1980       612.2699 468.9748 842.2928</span></span>
<span><span class="co">## May 1980       528.4672 367.6401 816.0220</span></span>
<span><span class="co">## Jun 1980       476.2447 351.3225 791.9043</span></span>
<span><span class="co">## Jul 1980       446.5542 346.7205 731.5025</span></span>
<span><span class="co">## Aug 1980       474.4832 306.2009 767.7123</span></span>
<span><span class="co">## Sep 1980       433.9812 352.6265 674.2683</span></span>
<span><span class="co">## Oct 1980       495.8515 375.0117 789.4303</span></span>
<span><span class="co">## Nov 1980       608.1823 457.4200 801.6691</span></span>
<span><span class="co">## Dec 1980       529.0414 416.2132 804.9594</span></span>
<span><span class="co">## Jan 1981       606.6537 482.1669 834.3268</span></span>
<span><span class="co">## Feb 1981       581.7082 467.1231 832.0112</span></span>
<span><span class="co">## Mar 1981       568.9366 453.2338 829.7107</span></span>
<span><span class="co">## Apr 1981       564.1498 440.0247 728.6246</span></span>
<span><span class="co">## May 1981       498.3878 396.6910 819.2212</span></span>
<span><span class="co">## Jun 1981       462.1132 357.5631 809.9911</span></span>
<span><span class="co">## Jul 1981       466.7803 334.6223 747.7047</span></span>
<span><span class="co">## Aug 1981       510.2115 350.2492 745.0392</span></span>
<span><span class="co">## Sep 1981       462.1590 356.3739 801.7258</span></span>
<span><span class="co">## Oct 1981       539.0785 362.8748 799.5830</span></span>
<span><span class="co">## Nov 1981       539.8307 391.6486 804.5409</span></span>
<span><span class="co">## Dec 1981       518.8222 445.6239 611.4196</span></span>
<span><span class="co">## Jan 1982       612.5900 439.7018 818.6660</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res6</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">fdeaths</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">TRUE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |===================================                                   |  50%</span></span></code></pre>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span>
<span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<pre><code><span><span class="co">##   |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##          Point Forecast    Lo 95    Hi 95</span></span>
<span><span class="co">## Jan 1980       602.7431 511.3055 815.3558</span></span>
<span><span class="co">## Feb 1980       722.0622 522.2862 858.7735</span></span>
<span><span class="co">## Mar 1980       639.6291 485.4337 839.2106</span></span>
<span><span class="co">## Apr 1980       609.1225 465.8275 841.9991</span></span>
<span><span class="co">## May 1980       546.0493 385.2221 821.7550</span></span>
<span><span class="co">## Jun 1980       506.1425 381.2202 804.0653</span></span>
<span><span class="co">## Jul 1980       479.2389 379.4053 748.4499</span></span>
<span><span class="co">## Aug 1980       507.8200 339.5377 787.0275</span></span>
<span><span class="co">## Sep 1980       461.9156 380.5609 692.3895</span></span>
<span><span class="co">## Oct 1980       515.8224 394.9826 803.7769</span></span>
<span><span class="co">## Nov 1980       619.7334 468.9712 811.3908</span></span>
<span><span class="co">## Dec 1980       532.0845 419.2563 810.2274</span></span>
<span><span class="co">## Jan 1981       587.9108 463.4240 836.3023</span></span>
<span><span class="co">## Feb 1981       563.5365 448.9514 832.5139</span></span>
<span><span class="co">## Mar 1981       557.0433 441.3405 830.5164</span></span>
<span><span class="co">## Apr 1981       564.4723 440.3472 731.3651</span></span>
<span><span class="co">## May 1981       520.3859 418.6890 825.0199</span></span>
<span><span class="co">## Jun 1981       500.5996 396.0494 818.9405</span></span>
<span><span class="co">## Jul 1981       507.0400 374.8819 759.1424</span></span>
<span><span class="co">## Aug 1981       550.0272 390.0649 757.6600</span></span>
<span><span class="co">## Sep 1981       495.2858 389.5008 814.0055</span></span>
<span><span class="co">## Oct 1981       562.4762 386.2725 810.4297</span></span>
<span><span class="co">## Nov 1981       553.7348 405.5526 813.2684</span></span>
<span><span class="co">## Dec 1981       523.6259 450.4276 617.9580</span></span>
<span><span class="co">## Jan 1982       597.5811 424.6929 823.5020</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res7</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">WWWusage</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">FALSE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##     Point Forecast     Lo 95    Hi 95</span></span>
<span><span class="co">## 101      188.63488 157.56696 298.2439</span></span>
<span><span class="co">## 102      208.13203 149.54348 276.4635</span></span>
<span><span class="co">## 103      188.30328 144.90225 270.1421</span></span>
<span><span class="co">## 104      209.01866 145.17424 280.8966</span></span>
<span><span class="co">## 105      176.63958 134.84520 266.7370</span></span>
<span><span class="co">## 106      201.96181 139.86259 280.8837</span></span>
<span><span class="co">## 107      201.54667 123.26914 276.5130</span></span>
<span><span class="co">## 108      178.02670 120.41338 265.0872</span></span>
<span><span class="co">## 109      173.19127 110.61818 252.6415</span></span>
<span><span class="co">## 110      137.56535 102.83500 254.6571</span></span>
<span><span class="co">## 111      153.41178  93.86811 245.5215</span></span>
<span><span class="co">## 112      160.58596  88.54780 233.3655</span></span>
<span><span class="co">## 113      148.77944  79.57773 229.0889</span></span>
<span><span class="co">## 114      129.81313  72.92719 201.2045</span></span>
<span><span class="co">## 115      136.03334  62.35849 209.1528</span></span>
<span><span class="co">## 116      120.41680  54.39756 194.5360</span></span>
<span><span class="co">## 117      130.77338  58.63183 181.6860</span></span>
<span><span class="co">## 118       88.67783  37.12035 186.6475</span></span>
<span><span class="co">## 119       90.15476  34.25110 171.5472</span></span>
<span><span class="co">## 120       94.05708  31.16962 168.0137</span></span>
<span><span class="co">## 121      121.61642  47.29433 180.1877</span></span>
<span><span class="co">## 122       85.12684  34.24863 175.7188</span></span>
<span><span class="co">## 123       83.37750  19.69135 171.6789</span></span>
<span><span class="co">## 124       68.17726  14.77075 161.9726</span></span>
<span><span class="co">## 125       76.25201  19.30806 153.3864</span></span></code></pre>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">res8</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/mlf.html">mlf</a></span><span class="op">(</span><span class="va">WWWusage</span>, h<span class="op">=</span><span class="fl">25L</span>, lags<span class="op">=</span><span class="fl">20L</span>, stack<span class="op">=</span><span class="cn">TRUE</span>, stacking_models<span class="op">=</span><span class="va">stacking_models</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##   |                                                                              |                                                                      |   0%  |                                                                              |===================================                                   |  50%  |                                                                              |======================================================================| 100%</span></span></code></pre>
<pre><code><span><span class="co">##     Point Forecast     Lo 95    Hi 95</span></span>
<span><span class="co">## 101       176.7774 145.70949 274.5766</span></span>
<span><span class="co">## 102       197.6906 139.10202 255.4590</span></span>
<span><span class="co">## 103       179.1997 135.79866 251.4799</span></span>
<span><span class="co">## 104       201.3195 137.47505 264.6745</span></span>
<span><span class="co">## 105       170.7220 128.92765 253.6381</span></span>
<span><span class="co">## 106       197.9064 135.80723 270.9569</span></span>
<span><span class="co">## 107       199.2328 120.95525 269.4754</span></span>
<span><span class="co">## 108       177.6262 120.01286 261.2720</span></span>
<span><span class="co">## 109       175.1163 112.54316 252.9118</span></span>
<span><span class="co">## 110       142.3999 107.66954 260.2114</span></span>
<span><span class="co">## 111       161.5323 101.98861 257.0301</span></span>
<span><span class="co">## 112       171.8838  99.84567 250.4816</span></span>
<span><span class="co">## 113       163.0245  93.82275 251.3373</span></span>
<span><span class="co">## 114       147.2389  90.35295 229.0920</span></span>
<span><span class="co">## 115       157.0681  83.39330 243.5318</span></span>
<span><span class="co">## 116       145.2022  79.18300 235.6440</span></span>
<span><span class="co">## 117       159.0880  86.94647 229.0047</span></span>
<span><span class="co">## 118       120.0569  68.49940 239.3059</span></span>
<span><span class="co">## 119       124.5240  68.62035 229.5066</span></span>
<span><span class="co">## 120       131.4650  68.57753 231.4250</span></span>
<span><span class="co">## 121       161.8942  87.57207 248.7999</span></span>
<span><span class="co">## 122       127.4921  76.61389 248.1099</span></span>
<span><span class="co">## 123       127.5819  63.89572 247.5166</span></span>
<span><span class="co">## 124       113.8776  60.47108 240.7264</span></span>
<span><span class="co">## 125       123.0509  66.10696 234.4215</span></span></code></pre>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res1</span>, main<span class="op">=</span><span class="st">"Conformal ML with stacking \n with AirPassengers"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res3</span>, main<span class="op">=</span><span class="st">"Conformal ML without stacking \n with USAccDeaths"</span><span class="op">)</span></span></code></pre></div>
<p><img src="conformal-ml-stacking2_files/figure-html/unnamed-chunk-3-1.png" width="720"></p>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res2</span>, main<span class="op">=</span><span class="st">"Conformal ML with stacking \n with AirPassengers"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res4</span>, main<span class="op">=</span><span class="st">"Conformal ML without stacking \n with USAccDeaths"</span><span class="op">)</span></span></code></pre></div>
<p><img src="conformal-ml-stacking2_files/figure-html/unnamed-chunk-4-1.png" width="720"></p>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res5</span>, main<span class="op">=</span><span class="st">"Conformal ML with stacking \n with fdeaths"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res7</span>, main<span class="op">=</span><span class="st">"Conformal ML without stacking \n with WWWusage"</span><span class="op">)</span></span></code></pre></div>
<p><img src="conformal-ml-stacking2_files/figure-html/unnamed-chunk-5-1.png" width="720"></p>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html" class="external-link">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res6</span>, main<span class="op">=</span><span class="st">"Conformal ML with stacking \n with fdeaths"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">res8</span>, main<span class="op">=</span><span class="st">"Conformal ML without stacking \n with WWWusage"</span><span class="op">)</span></span></code></pre></div>
<p><img src="conformal-ml-stacking2_files/figure-html/unnamed-chunk-6-1.png" width="720"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by T. Moudiki.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</div>






  </body>
</html>
