<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>comb OLS AirPassengers â€¢ ahead</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="comb OLS AirPassengers">
<meta property="og:description" content="ahead">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ahead</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.14.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/ahead-loess-forecasting.html">Prediction intervals for Loess forecasting (simulation-based)</a>
    </li>
    <li>
      <a href="../articles/ahead-neutralize.html">Risk-neutralize simulations</a>
    </li>
    <li>
      <a href="../articles/ahead-plotting-functions.html">Plotting functions</a>
    </li>
    <li>
      <a href="../articles/ahead-ridge2-prediction-intervals.html">Prediction intervals for multivariate time series (simulation-based)</a>
    </li>
    <li>
      <a href="../articles/ahead-univariate-season.html">Univariate forecasting with `ridge2f` in `ahead`</a>
    </li>
    <li>
      <a href="../articles/ahead-vignette.html">Introduction to R package `ahead`</a>
    </li>
    <li>
      <a href="../articles/caretfitpredict.html">Fit and forecast using caret+dynrmf</a>
    </li>
    <li>
      <a href="../articles/comb_OLS.html">comb OLS Electricity</a>
    </li>
    <li>
      <a href="../articles/comb_OLS2.html">comb OLS AirPassengers</a>
    </li>
    <li>
      <a href="../articles/fitforecastbench.html">Fit and forecast for benchmarking purposes</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>comb OLS AirPassengers</h1>
            
      
      
      <div class="hidden name"><code>comb_OLS2.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="comb-ols">1 - Comb OLS<a class="anchor" aria-label="anchor" href="#comb-ols"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pkg.robjhyndman.com/forecast/" class="external-link">forecast</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Registered S3 method overwritten by 'quantmod':</span></span>
<span><span class="co">##   method            from</span></span>
<span><span class="co">##   as.zoo.data.frame zoo</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ceweiss/ForecastComb" class="external-link">ForecastComb</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: remotes</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: glmnet</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: Matrix</span></span></code></pre>
<pre><code><span><span class="co">## Loaded glmnet 4.1-8</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: ahead</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: foreach</span></span></code></pre>
<pre><code><span><span class="co">## Loading required package: snow</span></span></code></pre>
<pre><code><span><span class="co">## Registered S3 method overwritten by 'ForecastComb':</span></span>
<span><span class="co">##   method        from </span></span>
<span><span class="co">##   predict.ridge ahead</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Attaching package: 'ForecastComb'</span></span></code></pre>
<pre><code><span><span class="co">## The following objects are masked from 'package:ahead':</span></span>
<span><span class="co">## </span></span>
<span><span class="co">##     comb_GLMNET, comb_OLS, comb_Ridge, ridge</span></span></code></pre>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom_error</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">actual</span>, <span class="va">forecast_</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/MathFun.html" class="external-link">abs</a></span><span class="op">(</span><span class="va">forecast_</span> <span class="op">-</span> <span class="va">actual</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">h</span> <span class="op">&lt;-</span> <span class="fl">29L</span></span>
<span></span>
<span><span class="va">train_AirPassengers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">115</span><span class="op">]</span>, start <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/start.html" class="external-link">start</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span>, frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/time.html" class="external-link">frequency</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">arima_forecast</span> <span class="op">&lt;-</span> <span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/forecast.html" class="external-link">forecast</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://pkg.robjhyndman.com/forecast/reference/auto.arima.html" class="external-link">auto.arima</a></span><span class="op">(</span><span class="va">train_AirPassengers</span><span class="op">)</span>, h<span class="op">=</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="va">ets_forecast</span> <span class="op">&lt;-</span> <span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/forecast.html" class="external-link">forecast</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://pkg.robjhyndman.com/forecast/reference/ets.html" class="external-link">ets</a></span><span class="op">(</span><span class="va">train_AirPassengers</span><span class="op">)</span>, h<span class="op">=</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="va">theta_forecast</span> <span class="op">&lt;-</span> <span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://pkg.robjhyndman.com/forecast/reference/thetaf.html" class="external-link">thetaf</a></span><span class="op">(</span><span class="va">train_AirPassengers</span>, h<span class="op">=</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="va">ridge_forecast</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/dynrmf.html">dynrmf</a></span><span class="op">(</span><span class="va">train_AirPassengers</span>, h<span class="op">=</span><span class="va">h</span><span class="op">)</span></span>
<span><span class="va">glmnet_forecast</span> <span class="op">&lt;-</span> <span class="fu">ahead</span><span class="fu">::</span><span class="fu"><a href="../reference/dynrmf.html">dynrmf</a></span><span class="op">(</span><span class="va">train_AirPassengers</span>, h<span class="op">=</span><span class="va">h</span>, </span>
<span>fit_func <span class="op">=</span> <span class="fu">glmnet</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/glmnet/man/cv.glmnet.html" class="external-link">cv.glmnet</a></span>, predict_func <span class="op">=</span> <span class="va">predict</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/accuracy.html" class="external-link">accuracy</a></span><span class="op">(</span><span class="va">arima_forecast</span>, <span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                      ME      RMSE       MAE        MPE     MAPE      MASE</span></span>
<span><span class="co">## Training set  0.2145268  9.067565  6.898655 0.03414791 2.899017 0.3275496</span></span>
<span><span class="co">## Test set     22.9591869 35.082793 28.547389 4.53360086 6.124545 1.3554362</span></span>
<span><span class="co">##                    ACF1</span></span>
<span><span class="co">## Training set 0.01529513</span></span>
<span><span class="co">## Test set             NA</span></span></code></pre>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/accuracy.html" class="external-link">accuracy</a></span><span class="op">(</span><span class="va">ets_forecast</span>, <span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                     ME      RMSE       MAE       MPE     MAPE      MASE</span></span>
<span><span class="co">## Training set  1.375376  8.141851  6.348423 0.4340769 2.755794 0.3014245</span></span>
<span><span class="co">## Test set     15.907062 35.807216 29.976427 2.6967550 6.533672 1.4232873</span></span>
<span><span class="co">##                   ACF1</span></span>
<span><span class="co">## Training set 0.1456818</span></span>
<span><span class="co">## Test set            NA</span></span></code></pre>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/accuracy.html" class="external-link">accuracy</a></span><span class="op">(</span><span class="va">theta_forecast</span>, <span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                     ME      RMSE       MAE       MPE     MAPE      MASE</span></span>
<span><span class="co">## Training set  2.509724  8.244161  6.381718 0.9709265 2.794444 0.3030054</span></span>
<span><span class="co">## Test set     18.499435 38.339636 32.160094 3.2578724 6.995654 1.5269682</span></span>
<span><span class="co">##                     ACF1</span></span>
<span><span class="co">## Training set -0.06759516</span></span>
<span><span class="co">## Test set              NA</span></span></code></pre>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/accuracy.html" class="external-link">accuracy</a></span><span class="op">(</span><span class="va">ridge_forecast</span>, <span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                         ME     RMSE      MAE         MPE     MAPE      MASE</span></span>
<span><span class="co">## Training set  1.517011e-15 13.03215 10.56922 -0.05818072 5.014722 0.5447499</span></span>
<span><span class="co">## Test set     -1.868676e+01 41.59669 32.81392 -5.01410649 7.788813 1.5580118</span></span>
<span><span class="co">##                  ACF1</span></span>
<span><span class="co">## Training set 0.581781</span></span>
<span><span class="co">## Test set           NA</span></span></code></pre>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu">forecast</span><span class="fu">::</span><span class="fu"><a href="https://generics.r-lib.org/reference/accuracy.html" class="external-link">accuracy</a></span><span class="op">(</span><span class="va">glmnet_forecast</span>, <span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                        ME     RMSE      MAE        MPE     MAPE      MASE</span></span>
<span><span class="co">## Training set 2.207596e-15 13.64072 10.86278 -0.7182150 5.219268 0.5598804</span></span>
<span><span class="co">## Test set     1.701171e+00 34.42065 28.69509 -0.4970236 6.460795 1.3624492</span></span>
<span><span class="co">##                  ACF1</span></span>
<span><span class="co">## Training set 0.616725</span></span>
<span><span class="co">## Test set           NA</span></span></code></pre>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">airpass</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind</a></span><span class="op">(</span><span class="va">arima_forecast</span><span class="op">$</span><span class="va">mean</span>, </span>
<span><span class="va">ets_forecast</span><span class="op">$</span><span class="va">mean</span>, <span class="va">theta_forecast</span><span class="op">$</span><span class="va">mean</span>, </span>
<span><span class="va">ridge_forecast</span><span class="op">$</span><span class="va">mean</span>, <span class="va">glmnet_forecast</span><span class="op">$</span><span class="va">mean</span>,</span>
<span><span class="fu"><a href="https://rdrr.io/r/stats/ts.html" class="external-link">ts</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">[</span><span class="fl">116</span><span class="op">:</span><span class="fl">144</span><span class="op">]</span>, </span>
<span>start<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/start.html" class="external-link">start</a></span><span class="op">(</span><span class="va">arima_forecast</span><span class="op">$</span><span class="va">mean</span><span class="op">)</span>,</span>
<span>frequency<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/stats/time.html" class="external-link">frequency</a></span><span class="op">(</span><span class="va">AirPassengers</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">airpass</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ARIMA"</span>, <span class="st">"ETS"</span>, <span class="st">"Theta"</span>, <span class="st">"Ridge"</span>, <span class="st">"GLMNET"</span>, <span class="st">"Actual"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">forecasting_methods</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">airpass</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] "ARIMA"  "ETS"    "Theta"  "Ridge"  "GLMNET"</span></span></code></pre>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">train_obs</span> <span class="op">&lt;-</span> <span class="va">airpass</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">21</span>, <span class="fl">6</span><span class="op">]</span></span>
<span><span class="va">train_pred</span> <span class="op">&lt;-</span> <span class="va">airpass</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">21</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span><span class="va">test_obs</span> <span class="op">&lt;-</span> <span class="va">airpass</span><span class="op">[</span><span class="fl">22</span><span class="op">:</span><span class="fl">29</span>, <span class="fl">6</span><span class="op">]</span></span>
<span><span class="va">test_pred</span> <span class="op">&lt;-</span> <span class="va">airpass</span><span class="op">[</span><span class="fl">22</span><span class="op">:</span><span class="fl">29</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span>
<span></span>
<span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">ForecastComb</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ForecastComb/man/foreccomb.html" class="external-link">foreccomb</a></span><span class="op">(</span><span class="va">train_obs</span>, <span class="va">train_pred</span>, <span class="va">test_obs</span>, <span class="va">test_pred</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu">ForecastComb</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ForecastComb/man/comb_OLS.html" class="external-link">comb_OLS</a></span><span class="op">(</span><span class="va">data</span>, custom_error<span class="op">=</span><span class="va">custom_error</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">-</span> <span class="va">start</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## elapsed </span></span>
<span><span class="co">##   0.017</span></span></code></pre>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">obj</span><span class="op">$</span><span class="va">Accuracy_Test</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                ME     RMSE      MAE      MPE     MAPE Custom Error</span></span>
<span><span class="co">## Test set 18.10097 23.41915 19.62024 3.496798 3.795867     19.62024</span></span></code></pre>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">obj</span><span class="op">$</span><span class="va">Weights</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1]  0.5139769  4.6082642 -4.1413190 -0.1354900  0.3797416</span></span></code></pre>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">obj</span>, <span class="va">test_pred</span><span class="op">)</span> <span class="op">-</span> <span class="va">test_obs</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] -18.10097</span></span></code></pre>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span></code></pre></div>
<p><img src="comb_OLS2_files/figure-html/unnamed-chunk-9-1.png" width="720"></p>
</div>
<div class="section level2">
<h2 id="comb-ridge">2 - Comb Ridge<a class="anchor" aria-label="anchor" href="#comb-ridge"></a>
</h2>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu">ForecastComb</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ForecastComb/man/comb_Ridge.html" class="external-link">comb_Ridge</a></span><span class="op">(</span><span class="va">data</span>, custom_error<span class="op">=</span><span class="va">custom_error</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">-</span> <span class="va">start</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## elapsed </span></span>
<span><span class="co">##   0.008</span></span></code></pre>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in rbind(object$Accuracy_Train[1:5], object$Accuracy_Test): number of</span></span>
<span><span class="co">## columns of result is not a multiple of vector length (arg 1)</span></span></code></pre>
<pre><code><span><span class="co">## </span></span>
<span><span class="co">## Summary of Forecast Combination </span></span>
<span><span class="co">## ------------------------------- </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Method:  Ridge Regression Regression </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Individual Forecasts &amp; Combination Weights: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##        Combination Weight</span></span>
<span><span class="co">## ARIMA            35.34867</span></span>
<span><span class="co">## ETS             126.41138</span></span>
<span><span class="co">## Theta           -97.44778</span></span>
<span><span class="co">## Ridge            49.71404</span></span>
<span><span class="co">## GLMNET          -48.35651</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Intercept (Bias-Correction):  416.3333 </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Accuracy of Combined Forecast: </span></span>
<span><span class="co">## </span></span>
<span><span class="co">##                         ME     RMSE      MAE       MPE     MAPE            NA</span></span>
<span><span class="co">## Training Set -5.413601e-14 14.73313 11.13953 -0.134554 2.680224 -5.413601e-14</span></span>
<span><span class="co">## Test set      1.192057e+01 20.50185 16.29153  2.237091 3.109866  1.629153e+01</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Additional information can be extracted from the combination object: </span></span>
<span><span class="co">## For fitted values (training set):  obj$Fitted </span></span>
<span><span class="co">## For forecasts (test set):  obj$Forecasts_Test </span></span>
<span><span class="co">## See  str(obj)  for full list.</span></span></code></pre>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">obj</span><span class="op">$</span><span class="va">Accuracy_Test</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                ME     RMSE      MAE      MPE     MAPE Custom Error</span></span>
<span><span class="co">## Test set 11.92057 20.50185 16.29153 2.237091 3.109866     16.29153</span></span></code></pre>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># check </span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">obj</span>, <span class="va">test_pred</span><span class="op">)</span> <span class="op">-</span> <span class="va">test_obs</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] -11.92057</span></span></code></pre>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span></code></pre></div>
<p><img src="comb_OLS2_files/figure-html/unnamed-chunk-12-1.png" width="720"></p>
</div>
<div class="section level2">
<h2 id="comb-glmnet">3 - Comb GLMNET<a class="anchor" aria-label="anchor" href="#comb-glmnet"></a>
</h2>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">start</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">obj</span> <span class="op">&lt;-</span> <span class="fu">ForecastComb</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ForecastComb/man/comb_GLMNET.html" class="external-link">comb_GLMNET</a></span><span class="op">(</span><span class="va">data</span>, custom_error<span class="op">=</span><span class="va">custom_error</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Option grouped=FALSE enforced in cv.glmnet, since &lt; 3 observations per</span></span>
<span><span class="co">## fold</span></span></code></pre>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/proc.time.html" class="external-link">proc.time</a></span><span class="op">(</span><span class="op">)</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">-</span> <span class="va">start</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## elapsed </span></span>
<span><span class="co">##   0.093</span></span></code></pre>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">obj</span><span class="op">$</span><span class="va">Accuracy_Test</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">##                 ME     RMSE      MAE       MPE     MAPE Custom Error</span></span>
<span><span class="co">## Test set -21.08074 28.89815 24.49499 -4.291015 4.945516     24.49499</span></span></code></pre>
<div class="sourceCode" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/predict.html" class="external-link">predict</a></span><span class="op">(</span><span class="va">obj</span>, <span class="va">test_pred</span><span class="op">)</span> <span class="op">-</span> <span class="va">test_obs</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## [1] -21.08074</span></span></code></pre>
<div class="sourceCode" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">obj</span><span class="op">)</span></span></code></pre></div>
<p><img src="comb_OLS2_files/figure-html/unnamed-chunk-15-1.png" width="720"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by T. Moudiki.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
