<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Simulation of diffusion processes — simdiff • esgtoolkit</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Simulation of diffusion processes — simdiff"><meta property="og:description" content="Simulates various diffusion processes including Geometric Brownian Motion (GBM),
Cox-Ingersoll-Ross (CIR), and Ornstein-Uhlenbeck (OU) processes."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-146345113-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146345113-2');
</script></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">esgtoolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/g2plus.html">G2++</a>
    </li>
    <li>
      <a href="../articles/intro.html">Introduction</a>
    </li>
    <li>
      <a href="../articles/martingale_test.html">Martingale tests</a>
    </li>
    <li>
      <a href="../articles/simdiffts.html">More flexibility for simulations</a>
    </li>
    <li>
      <a href="../articles/syntheticopula.html">Synthetic Copula simulation</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../../"></a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/Techtonique/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Simulation of diffusion processes</h1>
    <small class="dont-index">Source: <a href="https://github.com/Techtonique/esgtoolkit/R/simulations_risks.R" class="external-link"><code>R/simulations_risks.R</code></a></small>
    <div class="hidden name"><code>simdiff.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simulates various diffusion processes including Geometric Brownian Motion (GBM),
Cox-Ingersoll-Ross (CIR), and Ornstein-Uhlenbeck (OU) processes.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simdiff</span><span class="op">(</span></span>
<span>  <span class="va">n</span>,</span>
<span>  <span class="va">horizon</span>,</span>
<span>  frequency <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"annual"</span>, <span class="st">"semi-annual"</span>, <span class="st">"quarterly"</span>, <span class="st">"monthly"</span>, <span class="st">"weekly"</span>, <span class="st">"daily"</span><span class="op">)</span>,</span>
<span>  model <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"GBM"</span>, <span class="st">"CIR"</span>, <span class="st">"OU"</span><span class="op">)</span>,</span>
<span>  <span class="va">x0</span>,</span>
<span>  theta1 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  theta2 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  theta3 <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  lambda <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mu_z <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sigma_z <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  p <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eta_up <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eta_down <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  eps <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  start_ <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  end_ <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">123</span>,</span>
<span>  return_zoo <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-n">n<a class="anchor" aria-label="anchor" href="#arg-n"></a></dt>
<dd><p>Number of simulations/scenarios</p></dd>


<dt id="arg-horizon">horizon<a class="anchor" aria-label="anchor" href="#arg-horizon"></a></dt>
<dd><p>Time horizon for simulation</p></dd>


<dt id="arg-frequency">frequency<a class="anchor" aria-label="anchor" href="#arg-frequency"></a></dt>
<dd><p>Frequency of observations: if numeric (as for <code>ts</code> objects),
better used with <code>start_</code> and <code>end_</code>. Otherwise a string, either "annual",
"semi-annual", "quarterly", "monthly", "weekly", or "daily"</p></dd>


<dt id="arg-model">model<a class="anchor" aria-label="anchor" href="#arg-model"></a></dt>
<dd><p>Type of diffusion process: "GBM", "CIR", or "OU"</p></dd>


<dt id="arg-x-">x0<a class="anchor" aria-label="anchor" href="#arg-x-"></a></dt>
<dd><p>Initial value</p></dd>


<dt id="arg-theta-">theta1<a class="anchor" aria-label="anchor" href="#arg-theta-"></a></dt>
<dd><p>First parameter (drift for GBM, mean reversion for CIR/OU)</p></dd>


<dt id="arg-theta-">theta2<a class="anchor" aria-label="anchor" href="#arg-theta-"></a></dt>
<dd><p>Second parameter (volatility for GBM, long-term mean for CIR/OU)</p></dd>


<dt id="arg-theta-">theta3<a class="anchor" aria-label="anchor" href="#arg-theta-"></a></dt>
<dd><p>Third parameter (optional, used for some models)</p></dd>


<dt id="arg-lambda">lambda<a class="anchor" aria-label="anchor" href="#arg-lambda"></a></dt>
<dd><p>Jump intensity parameter (optional)</p></dd>


<dt id="arg-mu-z">mu_z<a class="anchor" aria-label="anchor" href="#arg-mu-z"></a></dt>
<dd><p>Mean of jump size (optional)</p></dd>


<dt id="arg-sigma-z">sigma_z<a class="anchor" aria-label="anchor" href="#arg-sigma-z"></a></dt>
<dd><p>Standard deviation of jump size (optional)</p></dd>


<dt id="arg-p">p<a class="anchor" aria-label="anchor" href="#arg-p"></a></dt>
<dd><p>Probability parameter (optional)</p></dd>


<dt id="arg-eta-up">eta_up<a class="anchor" aria-label="anchor" href="#arg-eta-up"></a></dt>
<dd><p>Upward jump size (optional)</p></dd>


<dt id="arg-eta-down">eta_down<a class="anchor" aria-label="anchor" href="#arg-eta-down"></a></dt>
<dd><p>Downward jump size (optional)</p></dd>


<dt id="arg-eps">eps<a class="anchor" aria-label="anchor" href="#arg-eps"></a></dt>
<dd><p>Pre-generated random shocks (optional)</p></dd>


<dt id="arg-start-">start_<a class="anchor" aria-label="anchor" href="#arg-start-"></a></dt>
<dd><p>Starting time (optional), better used with numeric <code>frequency</code></p></dd>


<dt id="arg-end-">end_<a class="anchor" aria-label="anchor" href="#arg-end-"></a></dt>
<dd><p>Ending time (optional), better used with numeric <code>frequency</code></p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Random seed for reproducibility</p></dd>


<dt id="arg-return-zoo">return_zoo<a class="anchor" aria-label="anchor" href="#arg-return-zoo"></a></dt>
<dd><p>Boolean; Either return a <code>zoo</code> object or not</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A time series object containing the simulated paths</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function simulates various diffusion processes with different frequencies.
For GBM, theta1 represents the drift and theta2 the volatility.
For CIR and OU processes, theta1 is the mean reversion speed and theta2 is the long-term mean.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Simulate GBM process</span></span></span>
<span class="r-in"><span><span class="va">eps</span> <span class="op">&lt;-</span> <span class="fu"><a href="simshocks.html">simshocks</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, horizon <span class="op">=</span> <span class="fl">5</span>, frequency <span class="op">=</span> <span class="st">"quarterly"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sim_GBM</span> <span class="op">&lt;-</span> <span class="fu">simdiff</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, horizon <span class="op">=</span> <span class="fl">5</span>, frequency <span class="op">=</span> <span class="st">"quarterly"</span>,</span></span>
<span class="r-in"><span>                   model <span class="op">=</span> <span class="st">"GBM"</span>, x0 <span class="op">=</span> <span class="fl">100</span>, theta1 <span class="op">=</span> <span class="fl">0.03</span>, theta2 <span class="op">=</span> <span class="fl">0.1</span>,</span></span>
<span class="r-in"><span>                   eps <span class="op">=</span> <span class="va">eps</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Simulate CIR process</span></span></span>
<span class="r-in"><span><span class="va">sim_CIR</span> <span class="op">&lt;-</span> <span class="fu">simdiff</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">10</span>, horizon <span class="op">=</span> <span class="fl">5</span>, frequency <span class="op">=</span> <span class="st">"quarterly"</span>,</span></span>
<span class="r-in"><span>                   model <span class="op">=</span> <span class="st">"CIR"</span>, x0 <span class="op">=</span> <span class="fl">0.04</span>, theta1 <span class="op">=</span> <span class="fl">1.5</span>, theta2 <span class="op">=</span> <span class="fl">0.04</span>,</span></span>
<span class="r-in"><span>                   theta3 <span class="op">=</span> <span class="fl">0.2</span>, eps <span class="op">=</span> <span class="va">eps</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://thierrymoudiki.github.io/" class="external-link">T. Moudiki</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer></div>






  </body></html>

