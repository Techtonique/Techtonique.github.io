<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Convergence of Monte Carlo prices — esgmccv • ESGtoolkit</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/darkly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Convergence of Monte Carlo prices — esgmccv" />
<meta property="og:description" content="This function computes and plots confidence intervals around the estimated 
average price, as functions of the number of simulations." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146345113-2"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-146345113-2');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ESGtoolkit</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
<li>
  <a href="../../"></a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Techtonique/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Convergence of Monte Carlo prices</h1>
    <small class="dont-index">Source: <a href='https://github.com/Techtonique/ESGtoolkit/R/tests.R'><code>R/tests.R</code></a></small>
    <div class="hidden name"><code>esgmccv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function computes and plots confidence intervals around the estimated 
average price, as functions of the number of simulations.</p>
    </div>

    <pre class="usage"><span class='fu'>esgmccv</span>(<span class='kw'>r</span>, <span class='kw'>X</span>, <span class='kw'>maturity</span>, plot = <span class='fl'>TRUE</span>, <span class='kw'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>r</th>
      <td><p>a <code>numeric</code> or a time series object, the risk-free rate(s).</p></td>
    </tr>
    <tr>
      <th>X</th>
      <td><p>asset prices obtained with <code><a href='simdiff.html'>simdiff</a></code></p></td>
    </tr>
    <tr>
      <th>maturity</th>
      <td><p>the corresponding maturity (optional). If missing, all the maturities 
available in <code>X</code> are used.</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>if <code>TRUE</code> (default), a plot of the convergence is displayed.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>additional parameters provided to <code><a href='https://rdrr.io/r/graphics/matplot.html'>matplot</a></code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list with estimated average prices and the confidence intervals around them.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Studying the convergence of the sample mean of :</p>
<p>$$E[X_T exp(-\int_0^T r_s ds)]$$</p>
<p>towards its true value.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>T. Moudiki</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>r</span> <span class='op'>&lt;-</span> <span class='fl'>0.03</span>

<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span>(<span class='fl'>1</span>)
<span class='kw'>eps0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='simshocks.html'>simshocks</a></span>(n = <span class='fl'>100</span>, horizon = <span class='fl'>5</span>, frequency = <span class='st'>"quart"</span>)
<span class='kw'>sim.GBM</span> <span class='op'>&lt;-</span> <span class='fu'><a href='simdiff.html'>simdiff</a></span>(n = <span class='fl'>100</span>, horizon = <span class='fl'>5</span>, frequency = <span class='st'>"quart"</span>,   
               model = <span class='st'>"GBM"</span>, 
               x0 = <span class='fl'>100</span>, theta1 = <span class='fl'>0.03</span>, theta2 = <span class='fl'>0.1</span>, 
               eps = <span class='kw'>eps0</span>)

<span class='co'># monte carlo prices</span>
<span class='fu'><a href='esgmcprices.html'>esgmcprices</a></span>(<span class='kw'>r</span>, <span class='kw'>sim.GBM</span>)
</div><div class='output co'>#&gt;        Qtr1      Qtr2      Qtr3      Qtr4
#&gt; 0 100.00000  99.87926 100.28263 100.27294
#&gt; 1 100.74803 100.35236 100.78660 100.60459
#&gt; 2 100.59029 101.37518 102.10043 103.19092
#&gt; 3 102.51163 103.12298 102.69882 102.83572
#&gt; 4 102.67107 103.13669 102.80105 102.34260
#&gt; 5 102.40749                              </div><div class='input'>
<span class='co'># convergence to a specific price</span>
(<span class='fu'>esgmccv</span>(<span class='kw'>r</span>, <span class='kw'>sim.GBM</span>, <span class='fl'>2</span>))
</div><div class='img'><img src='esgmccv-1.png' alt='' width='700' height='433' /></div><div class='output co'>#&gt; $avg.price
#&gt;  [1]  94.18180  94.52128  93.57814  97.08570  94.08274  94.73565  92.26875
#&gt;  [8]  94.18546  94.54242  95.65661  95.99182  95.97286  97.04628  97.62135
#&gt; [15]  96.25142  96.87029  97.28030  97.85751  98.04523  97.54134  98.80124
#&gt; [22]  98.92261  99.64998 100.40902  99.60475 100.16003 100.10753 100.09967
#&gt; [29]  99.63650  99.31339  99.16772  99.09841  99.40427  99.17911  98.64973
#&gt; [36]  98.32701  99.07733  99.40902  99.10501  99.66872  99.33878  99.64501
#&gt; [43]  99.68267  99.65628  99.79480  99.97476  99.86859  99.84431 100.01467
#&gt; [50]  99.89754 100.25802  99.96374 100.06441 100.08514  99.92699 100.02655
#&gt; [57]  99.95614  99.81390  99.76395  99.90546  99.67873  99.78623 100.10851
#&gt; [64]  99.70193  99.55514  99.90090  99.67199 100.04796 100.06902 100.20049
#&gt; [71] 100.46180 100.23653 100.34795 100.54216 100.61190 100.54650 100.88753
#&gt; [78] 100.88647 100.70495 100.73819 101.19328 101.09990 101.12936 101.02788
#&gt; [85] 101.00752 100.71631 100.66814 100.61243 100.70712 100.76150 100.80013
#&gt; [92] 100.72378 100.62133 100.57805 100.53019 100.44582 100.52888 100.52104
#&gt; [99] 100.59029
#&gt; 
#&gt; $conf.int
#&gt;        lower bound upper bound
#&gt;   [1,]   -91.00367    279.3673
#&gt;   [2,]    58.28698    130.7556
#&gt;   [3,]    74.39103    112.7653
#&gt;   [4,]    80.86960    113.3018
#&gt;   [5,]    79.59609    108.5694
#&gt;   [6,]    82.97223    106.4991
#&gt;   [7,]    80.82552    103.7120
#&gt;   [8,]    83.39672    104.9742
#&gt;   [9,]    85.04178    104.0431
#&gt;  [10,]    86.83564    104.4776
#&gt;  [11,]    88.00340    103.9802
#&gt;  [12,]    88.69849    103.2472
#&gt;  [13,]    89.97734    104.1152
#&gt;  [14,]    90.97258    104.2701
#&gt;  [15,]    89.41571    103.0871
#&gt;  [16,]    90.35067    103.3899
#&gt;  [17,]    91.10194    103.4587
#&gt;  [18,]    91.91300    103.8020
#&gt;  [19,]    92.41326    103.6772
#&gt;  [20,]    92.09984    102.9828
#&gt;  [21,]    93.00302    104.5995
#&gt;  [22,]    93.39178    104.4534
#&gt;  [23,]    94.15780    105.1422
#&gt;  [24,]    94.92472    105.8933
#&gt;  [25,]    94.09200    105.1175
#&gt;  [26,]    94.74407    105.5760
#&gt;  [27,]    94.89685    105.3182
#&gt;  [28,]    95.08025    105.1191
#&gt;  [29,]    94.70300    104.5700
#&gt;  [30,]    94.50310    104.1237
#&gt;  [31,]    94.50700    103.8284
#&gt;  [32,]    94.58463    103.6122
#&gt;  [33,]    94.98642    103.8221
#&gt;  [34,]    94.86976    103.4885
#&gt;  [35,]    94.33037    102.9691
#&gt;  [36,]    94.07945    102.5746
#&gt;  [37,]    94.67603    103.4786
#&gt;  [38,]    95.07355    103.7445
#&gt;  [39,]    94.83832    103.3717
#&gt;  [40,]    95.35746    103.9800
#&gt;  [41,]    95.08214    103.5954
#&gt;  [42,]    95.44582    103.8442
#&gt;  [43,]    95.58215    103.7832
#&gt;  [44,]    95.65020    103.6624
#&gt;  [45,]    95.86930    103.7203
#&gt;  [46,]    96.11895    103.8306
#&gt;  [47,]    96.09009    103.6471
#&gt;  [48,]    96.14543    103.5432
#&gt;  [49,]    96.37629    103.6530
#&gt;  [50,]    96.32527    103.4698
#&gt;  [51,]    96.68280    103.8332
#&gt;  [52,]    96.40888    103.5186
#&gt;  [53,]    96.57173    103.5571
#&gt;  [54,]    96.65777    103.5125
#&gt;  [55,]    96.54789    103.3061
#&gt;  [56,]    96.70260    103.3505
#&gt;  [57,]    96.68823    103.2241
#&gt;  [58,]    96.59045    103.0373
#&gt;  [59,]    96.59425    102.9337
#&gt;  [60,]    96.77641    103.0345
#&gt;  [61,]    96.56838    102.7891
#&gt;  [62,]    96.71911    102.8533
#&gt;  [63,]    97.02270    103.1943
#&gt;  [64,]    96.55815    102.8457
#&gt;  [65,]    96.44642    102.6639
#&gt;  [66,]    96.76293    103.0389
#&gt;  [67,]    96.54779    102.7962
#&gt;  [68,]    96.88008    103.2158
#&gt;  [69,]    96.94727    103.1908
#&gt;  [70,]    97.11264    103.2883
#&gt;  [71,]    97.37363    103.5500
#&gt;  [72,]    97.15875    103.3143
#&gt;  [73,]    97.30464    103.3912
#&gt;  [74,]    97.51555    103.5688
#&gt;  [75,]    97.62281    103.6010
#&gt;  [76,]    97.59425    103.4988
#&gt;  [77,]    97.89589    103.8792
#&gt;  [78,]    97.93355    103.8394
#&gt;  [79,]    97.76745    103.6425
#&gt;  [80,]    97.83699    103.6394
#&gt;  [81,]    98.18854    104.1980
#&gt;  [82,]    98.12633    104.0735
#&gt;  [83,]    98.19134    104.0674
#&gt;  [84,]    98.11814    103.9376
#&gt;  [85,]    98.13203    103.8830
#&gt;  [86,]    97.81617    103.6165
#&gt;  [87,]    97.80001    103.5363
#&gt;  [88,]    97.77500    103.4498
#&gt;  [89,]    97.89554    103.5187
#&gt;  [90,]    97.97932    103.5437
#&gt;  [91,]    98.04770    103.5526
#&gt;  [92,]    97.99728    103.4503
#&gt;  [93,]    97.91671    103.3259
#&gt;  [94,]    97.90105    103.2551
#&gt;  [95,]    97.87988    103.1805
#&gt;  [96,]    97.81799    103.0737
#&gt;  [97,]    97.92312    103.1346
#&gt;  [98,]    97.94202    103.1001
#&gt;  [99,]    98.03382    103.1468
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://thierrymoudiki.github.io/'>T. Moudiki</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


